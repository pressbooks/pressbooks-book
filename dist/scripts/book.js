!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({0:function(e,t,n){n("oy8a"),n("nTgg"),e.exports=n("7++m")},"7++m":function(e,t){},nTgg:function(e,t){},oy8a:function(e,t,n){"use strict";n.r(t);var r=n("v2jn"),o=function(e){return"".concat(e.charAt(0).toLowerCase()).concat(e.replace(/[\W_]/g,"|").split("|").map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}).join("").slice(1))};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=t}var t,n,r;return t=e,(n=[{key:"fire",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"init",n=arguments.length>2?arguments[2]:void 0,r=""!==e&&this.routes[e]&&"function"==typeof this.routes[e][t];r&&this.routes[e][t](n)}},{key:"loadEvents",value:function(){var e=this;this.fire("common"),document.body.className.toLowerCase().replace(/-/g,"_").split(/\s+/).map(o).forEach(function(t){e.fire(t),e.fire(t,"finalize")}),this.fire("common","finalize")}}])&&i(t.prototype,n),r&&i(t,r),e}(),s=n("p46w"),l=new a({common:{init:function(){var e,t,n,r;document.body.classList.remove("no-js"),document.body.classList.add("js"),e=document.querySelector(".a11y-fontsize"),"1"===s.get("a11y-larger-fontsize")&&(document.documentElement.classList.add("fontsize"),e.setAttribute("aria-pressed",!0),e.textContent=pressbooksBook.decrease_label),e.onclick=function(){var t="true"===e.getAttribute("aria-pressed")||!1;return e.setAttribute("aria-pressed",!t),t?(document.documentElement.classList.remove("fontsize"),e.setAttribute("title",pressbooksBook.increase_label),e.textContent=pressbooksBook.increase_label,document.querySelector(".nav-reading").setAttribute("style",""),s.set("a11y-larger-fontsize","0",{expires:365,path:pressbooksBook.home_path}),!1):(document.documentElement.classList.add("fontsize"),e.setAttribute("title",pressbooksBook.decrease_label),e.textContent=pressbooksBook.decrease_label,document.querySelector(".nav-reading").setAttribute("style",""),s.set("a11y-larger-fontsize","1",{expires:365,path:pressbooksBook.home_path}),!1)},function(){for(var e=document.getElementsByTagName("section"),t=0,n=e.length;t<n;t++)e[t].setAttribute("tabindex",-1),e[t].className+=" focusable"}(),jQuery(function(e){e.localScroll.hash({duration:0}),e.localScroll({hash:!0,duration:0,onBefore:function(e,t){var n=t.closest("div[hidden]");if(n){n.hidden=!1;var r=n.previousElementSibling,o=r.querySelector("button");r.setAttribute("data-collapsed",!1),o.setAttribute("aria-expanded",!0)}}})}),document.querySelector(".js-header-nav-toggle").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".header__nav").classList.toggle("header__nav--active")}),t=document.querySelectorAll(".dropdown > p, .dropdown > h3"),Array.prototype.forEach.call(t,function(e){e.innerHTML='\n\t\t\t\t<button type="button" aria-expanded="false">\n\t\t\t\t\t'.concat(e.innerHTML,'\n\t\t\t\t\t<svg role="img" class="arrow" width="13" height="8" viewBox="0 0 13 8" xmlns="http://www.w3.org/2000/svg"><path d="M6.255 8L0 0h12.51z" fill="currentColor" fill-rule="evenodd"></path></svg>\n\t\t\t\t</button>\n\t\t\t  ');var t=e.nextElementSibling;t.hidden=!0;var n=e.querySelector("button");n.onclick=function(){var e="true"===n.getAttribute("aria-expanded")||!1;n.setAttribute("aria-expanded",!e),t.hidden=e}}),n=document.querySelectorAll(".toc__part--full > .toc__title, .toc__chapter--full > .toc__title, .toc__front-matter--full > .toc__title, .toc__back-matter--full > .toc__title"),r=document.body.classList.contains("home"),Array.prototype.forEach.call(n,function(e){var t=!!(r&&e.parentNode.classList.contains("toc__part")||!r&&e.parentNode.classList.contains("toc__parent")),n="".concat(pressbooksBook.toggle_contents," '").concat(e.innerText,"'");e.innerHTML="\n\t\t\t\t<span>".concat(e.innerHTML,'</span>\n\t\t\t\t<button type="button" aria-expanded="').concat(t,'" aria-label="').concat(n,'">\n\t\t\t\t\t<svg viewBox="0 0 9 9" aria-hidden="true" focusable="false">\n\t\t\t\t\t\t<rect class="vert" height="7" width="1" y="1" x="4" />\n\t\t\t\t\t\t<rect height="1" width="7" y="4" x="1" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t');var o=e.nextElementSibling;!1===t||!r&&!e.parentNode.classList.contains("toc__parent")?o.hidden=!0:r&&e.parentNode.classList.contains("toc__parent")&&(o.hidden=!1);var i=e.querySelector("button");i.onclick=function(){var e="true"===i.getAttribute("aria-expanded")||!1;i.setAttribute("aria-expanded",!e),o.hidden=e}})},finalize:function(){}},home:{init:function(){jQuery(function(e){e(document.body).on("click",".js-toggle-block",function(t){var n=e(this);n.parents(".js-block").toggleClass("block-toggle--visible"),n.toggleClass("--visible")}),e(document.body).on("click",".toc__toggle #show",function(t){var n=e(this);e('.toc [class*="--full"]').each(function(t){e(this).find("button").attr("aria-expanded","true"),e(this).find("ol").removeAttr("hidden")}),n.parents(".toc__toggle").attr("aria-expanded","true")}),e(document.body).on("click",".toc__toggle #hide",function(t){var n=e(this);e('.toc [class*="--full"]').each(function(t){e(this).find("button").attr("aria-expanded","false"),e(this).find("ol").attr("hidden","true")}),n.parents(".toc__toggle").attr("aria-expanded","false")})})},finalize:function(){}},single:{init:function(){jQuery(function(e){var t=e(".block-reading-meta__compare__toggle");t.click(function(n){var o=e(".block-reading-meta__compare__activity"),i=e(".alert"),a=e(".block-reading-meta__compare__comparison"),s=e(".block-reading-meta__compare__stats"),l=e(".block-reading-meta__compare__diff");if(i.addClass("visually-hidden"),"false"===e(n.currentTarget).attr("aria-expanded"))if(t.attr("aria-expanded",!0),o.removeAttr("hidden"),l.hasClass("populated"))a.removeAttr("hidden "),o.attr("hidden",!0);else{i.text(pressbooksBook.comparison_loading);var u=l.html(),c=l.attr("data-source-endpoint");fetch(c).then(function(t){if(200!==t.status)return i.addClass("alert--error").removeClass("visually-hidden").text(pressbooksBook.chapter_not_loaded),void o.attr("hidden",!0);t.json().then(function(t){var n=e("<div>"+t.content.raw+"</div>").html(),c=Object(r.diffWords)(n,u),d=document.createDocumentFragment();c.forEach(function(e){var t=e.added?"ins":e.removed?"del":"span",n=document.createElement(t);n.appendChild(document.createTextNode(e.value)),d.appendChild(n)}),l.html(d),l.addClass("populated");var f=l.children("del").length,p=l.children("ins").length;s.children("ins").children(".num").text(p),s.children("del ").children(".num").text(f),o.attr("hidden",!0),i.text(pressbooksBook.comparison_loaded),a.removeAttr("hidden")})}).catch(function(e){i.addClass("alert--error").removeClass("visually-hidden").text(pressbooksBook.chapter_not_loaded),o.attr("hidden",!0)})}else t.attr("aria-expanded",!1),a.attr("hidden",!0)}),e(document).ready(function(){e(window).scroll(function(){e(window).scrollTop()>250&&e(".nav-reading__up").animate({opacity:1},0),e(window).scrollTop()<250&&e(".nav-reading__up").animate({opacity:0},0)}),e(".nav-reading__up").click(function(t){return t.preventDefault(),e(".nav-reading__up").blur().animate({opacity:0},0),e("html, body").animate({scrollTop:0},0),!1}),e(document).keydown(function(t){if(!e("body").hasClass("no-navigation")){var n=!1;37===t.which?n=e(".nav-previous a, .js-nav-previous a").attr("href"):39===t.which&&(n=e(".nav-next a, .js-nav-next a").attr("href")),n&&!e("textarea, input").is(":focus")&&(window.location=n)}})})})},finalize:function(){}}});jQuery(document).ready(function(){return l.loadEvents()})},p46w:function(e,t,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,!0!==i[u]&&(l+="="+i[u]));return document.cookie=t+"="+o+l}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var p=c[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var v=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,v):n(h,v)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===v){a=h;break}t||(a[v]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},v2jn:function(e,t,n){!function(e){"use strict";function t(){}function n(e,t,n,r,o){for(var i=0,a=t.length,s=0,l=0;i<a;i++){var u=t[i];if(u.removed){if(u.value=e.join(r.slice(l,l+u.count)),l+=u.count,i&&t[i-1].added){var c=t[i-1];t[i-1]=t[i],t[i]=c}}else{if(!u.added&&o){var d=n.slice(s,s+u.count);d=d.map(function(e,t){var n=r[l+t];return n.length>e.length?n:e}),u.value=e.join(d)}else u.value=e.join(n.slice(s,s+u.count));s+=u.count,u.added||(l+=u.count)}}var f=t[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[a-2].value+=f.value,t.pop()),t}t.prototype={diff:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var i=this;function a(e){return o?(setTimeout(function(){o(void 0,e)},0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,u=1,c=s+l,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=s&&f+1>=l)return a([{value:this.join(t),count:t.length}]);function p(){for(var r=-1*u;r<=u;r+=2){var o=void 0,c=d[r-1],f=d[r+1],p=(f?f.newPos:0)-r;c&&(d[r-1]=void 0);var h=c&&c.newPos+1<s,v=f&&0<=p&&p<l;if(h||v){if(!h||v&&c.newPos<f.newPos?(o={newPos:(m=f).newPos,components:m.components.slice(0)},i.pushComponent(o.components,void 0,!0)):((o=c).newPos++,i.pushComponent(o.components,!0,void 0)),p=i.extractCommon(o,t,e,r),o.newPos+1>=s&&p+1>=l)return a(n(i,o.components,t,e,i.useLongestToken));d[r]=o}else d[r]=void 0}var m;u++}if(o)!function e(){setTimeout(function(){if(u>c)return o();p()||e()},0)}();else for(;u<=c;){var h=p();if(h)return h}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,a=e.newPos,s=a-r,l=0;a+1<o&&s+1<i&&this.equals(t[a+1],n[s+1]);)a++,s++,l++;return l&&e.components.push({count:l}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new t;function o(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,s=new t;s.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},s.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&i.test(t[n])&&i.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var l=new t;function u(e,t,n){return l.diff(e,t,n)}l.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var c=new t;c.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var d=new t;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var h=Object.prototype.toString,v=new t;function m(e,t,n,r,o){var i,a;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===h.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),i=0;i<e.length;i+=1)a[i]=m(e[i],t,n,r,o);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===f(e)&&null!==e){t.push(e),a={},n.push(a);var s,l=[];for(s in e)e.hasOwnProperty(s)&&l.push(s);for(l.sort(),i=0;i<l.length;i+=1)s=l[i],a[s]=m(e[s],t,n,r,s);t.pop(),n.pop()}else a=e;return a}v.useLongestToken=!0,v.tokenize=l.tokenize,v.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(m(e,null,null,o),o,"  ")},v.equals=function(e,n){return t.prototype.equals.call(v,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var g=new t;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function a(){var e={};for(o.push(e);i<n.length;){var r=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);a&&(e.index=a[1]),i++}for(s(e),s(e),e.hunks=[];i<n.length;){var u=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(l());else{if(u&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(u));i++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(t){var r="---"===t[1]?"old":"new",o=t[2].split("\t",2),a=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[r+"FileName"]=a,e[r+"Header"]=(o[1]||"").trim(),i++}}function l(){for(var e=i,o=n[i++],a=o.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+a[1],oldLines:+a[2]||1,newStart:+a[3],newLines:+a[4]||1,lines:[],linedelimiters:[]},l=0,u=0;i<n.length&&!(0===n[i].indexOf("--- ")&&i+2<n.length&&0===n[i+1].indexOf("+++ ")&&0===n[i+2].indexOf("@@"));i++){var c=0==n[i].length&&i!=n.length-1?" ":n[i][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;s.lines.push(n[i]),s.linedelimiters.push(r[i]||"\n"),"+"===c?l++:"-"===c?u++:" "===c&&(l++,u++)}if(l||1!==s.newLines||(s.newLines=0),u||1!==s.oldLines||(s.oldLines=0),t.strict){if(l!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(u!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;i<n.length;)a();return o}function y(e,t,n){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,e+a<=n)return a;i=!0}if(!o)return i||(r=!0),t<=e-a?-a++:(o=!0,s())}}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=w(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r,o,i=e.split(/\r\n|[\n\v\f\r\x85]/),a=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,l=n.compareLine||function(e,t,n,r){return t===r},u=0,c=n.fuzzFactor||0,d=0,f=0;function p(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],o=r.length>0?r[0]:" ",a=r.length>0?r.substr(1):r;if(" "===o||"-"===o){if(!l(t+1,i[t],o,a)&&++u>c)return!1;t++}}return!0}for(var h=0;h<s.length;h++){for(var v=s[h],m=i.length-v.oldLines,g=0,b=f+v.oldStart-1,x=y(b,d,m);void 0!==g;g=x())if(p(v,b+g)){v.offset=f+=g;break}if(void 0===g)return!1;d=v.offset+v.oldStart+v.oldLines}for(var k=0,_=0;_<s.length;_++){var L=s[_],S=L.oldStart+L.offset+k-1;k+=L.newLines-L.oldLines,S<0&&(S=0);for(var C=0;C<L.lines.length;C++){var j=L.lines[C],N=j.length>0?j[0]:" ",A=j.length>0?j.substr(1):j,F=L.linedelimiters[C];if(" "===N)S++;else if("-"===N)i.splice(S,1),a.splice(S,1);else if("+"===N)i.splice(S,0,A),a.splice(S,0,F),S++;else if("\\"===N){var E=L.lines[C-1]?L.lines[C-1][0]:null;"+"===E?r=!0:"-"===E&&(o=!0)}}}if(r)for(;!i[i.length-1];)i.pop(),a.pop();else o&&(i.push(""),a.push("\n"));for(var P=0;P<i.length-1;P++)i[P]=i[P]+a[P];return i.join("")}function x(e,t,n,r,o,i,a){a||(a={}),void 0===a.context&&(a.context=4);var s=u(n,r,a);function l(e){return e.map(function(e){return" "+e})}s.push({value:"",lines:[]});for(var c=[],d=0,f=0,h=[],v=1,m=1,g=function(e){var t=s[e],o=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=o,t.added||t.removed){var i;if(!d){var u=s[e-1];d=v,f=m,u&&(h=a.context>0?l(u.lines.slice(-a.context)):[],d-=h.length,f-=h.length)}(i=h).push.apply(i,p(o.map(function(e){return(t.added?"+":"-")+e}))),t.added?m+=o.length:v+=o.length}else{if(d)if(o.length<=2*a.context&&e<s.length-2){var g;(g=h).push.apply(g,p(l(o)))}else{var w,y=Math.min(o.length,a.context);(w=h).push.apply(w,p(l(o.slice(0,y))));var b={oldStart:d,oldLines:v-d+y,newStart:f,newLines:m-f+y,lines:h};if(e>=s.length-2&&o.length<=a.context){var x=/\n$/.test(n),k=/\n$/.test(r),_=0==o.length&&h.length>b.oldLines;!x&&_&&h.splice(b.oldLines,0,"\\ No newline at end of file"),(x||_)&&k||h.push("\\ No newline at end of file")}c.push(b),d=0,f=0,h=[]}v+=o.length,m+=o.length}},w=0;w<s.length;w++)g(w);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:i,hunks:c}}function k(e,t,n,r,o,i,a){var s=x(e,t,n,r,o,i,a),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+s.oldFileName+(void 0===s.oldHeader?"":"\t"+s.oldHeader)),l.push("+++ "+s.newFileName+(void 0===s.newHeader?"":"\t"+s.newHeader));for(var u=0;u<s.hunks.length;u++){var c=s.hunks[u];l.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),l.push.apply(l,c.lines)}return l.join("\n")+"\n"}function _(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function L(e){var t=function e(t){var n=0,r=0;return t.forEach(function(t){if("string"!=typeof t){var o=e(t.mine),i=e(t.theirs);void 0!==n&&(o.oldLines===i.oldLines?n+=o.oldLines:n=void 0),void 0!==r&&(o.newLines===i.newLines?r+=o.newLines:r=void 0)}else void 0===r||"+"!==t[0]&&" "!==t[0]||r++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++}),{oldLines:n,newLines:r}}(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function S(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return w(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return x(void 0,void 0,t,e)}return e}function C(e){return e.newFileName&&e.newFileName!==e.oldFileName}function j(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function N(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function A(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function F(e,t,n,r,o){var i={offset:t,lines:n,index:0},a={offset:r,lines:o,index:0};for(H(e,i,a),H(e,a,i);i.index<i.lines.length&&a.index<a.lines.length;){var s=i.lines[i.index],l=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var u;(u=e.lines).push.apply(u,p(O(i)))}else if("+"===l[0]&&" "===s[0]){var c;(c=e.lines).push.apply(c,p(O(a)))}else"-"===s[0]&&" "===l[0]?P(e,i,a):"-"===l[0]&&" "===s[0]?P(e,a,i,!0):s===l?(e.lines.push(s),i.index++,a.index++):z(e,O(i),O(a));else E(e,i,a)}T(e,i),T(e,a),L(e)}function E(e,t,n){var r,o,i=O(t),a=O(n);if(B(i)&&B(a)){var s,l;if(_(i,a)&&M(n,i,i.length-a.length))return void(s=e.lines).push.apply(s,p(i));if(_(a,i)&&M(t,a,a.length-i.length))return void(l=e.lines).push.apply(l,p(a))}else if(o=a,(r=i).length===o.length&&_(r,o)){var u;return void(u=e.lines).push.apply(u,p(i))}z(e,i,a)}function P(e,t,n,r){var o,i=O(t),a=function(e,t){for(var n=[],r=[],o=0,i=!1,a=!1;o<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],l=t[o];if("+"===l[0])break;if(i=i||" "!==s[0],r.push(l),o++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];l.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}if("+"===(t[o]||"")[0]&&i&&(a=!0),a)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}(n,i);a.merged?(o=e.lines).push.apply(o,p(a.merged)):z(e,r?a:i,r?i:a)}function z(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function H(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function T(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function O(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function B(e){return e.reduce(function(e,t){return e&&"-"===t[0]},!0)}function M(e,t,n){for(var r=0;r<n;r++){var o=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=n,!0}g.tokenize=function(e){return e.slice()},g.join=g.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffWords=function(e,t,n){return n=o(n,{ignoreWhitespace:!0}),s.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return s.diff(e,t,n)},e.diffLines=u,e.diffTrimmedLines=function(e,t,n){var r=o(n,{ignoreWhitespace:!0});return l.diff(e,t,r)},e.diffSentences=function(e,t,n){return c.diff(e,t,n)},e.diffCss=function(e,t,n){return d.diff(e,t,n)},e.diffJson=function(e,t,n){return v.diff(e,t,n)},e.diffArrays=function(e,t,n){return g.diff(e,t,n)},e.structuredPatch=x,e.createTwoFilesPatch=k,e.createPatch=function(e,t,n,r,o,i){return k(e,e,t,n,r,o,i)},e.applyPatch=b,e.applyPatches=function(e,t){"string"==typeof e&&(e=w(e));var n=0;!function r(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,function(e,n){if(e)return t.complete(e);var i=b(n,o,t);t.patched(o,i,function(e){if(e)return t.complete(e);r()})})}()},e.parsePatch=w,e.merge=function(e,t,n){e=S(e,n),t=S(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(C(e)?C(t)?(r.oldFileName=j(r,e.oldFileName,t.oldFileName),r.newFileName=j(r,e.newFileName,t.newFileName),r.oldHeader=j(r,e.oldHeader,t.oldHeader),r.newHeader=j(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var o=0,i=0,a=0,s=0;o<e.hunks.length||i<t.hunks.length;){var l=e.hunks[o]||{oldStart:1/0},u=t.hunks[i]||{oldStart:1/0};if(N(l,u))r.hunks.push(A(l,a)),o++,s+=l.newLines-l.oldLines;else if(N(u,l))r.hunks.push(A(u,s)),i++,a+=u.newLines-u.oldLines;else{var c={oldStart:Math.min(l.oldStart,u.oldStart),oldLines:0,newStart:Math.min(l.newStart+a,u.oldStart+s),newLines:0,lines:[]};F(c,l.oldStart,l.lines,u.oldStart,u.lines),i++,o++,r.hunks.push(c)}}return r},e.convertChangesToDMP=function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=e[o],n=t.added?1:t.removed?-1:0,r.push([n,t.value]);return r},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push((o=r.value,void 0,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}var o;return t.join("")},e.canonicalize=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)}});