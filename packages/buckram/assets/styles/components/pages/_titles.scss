////
/// @group pages
////

@import '../utilities';

// Half Title Page
#half-title-page {
  display: if-map-get($title-half-title-display, $type);
}

#half-title-page > h1.title {
  margin-top: if-map-get($title-half-title-block-margin-top, $type);
  font-family: $title-half-title-font-family;
  font-size: if-map-get($title-half-title-font-size, $type);
  font-style: $title-half-title-font-style;
  font-weight: $title-half-title-font-weight;
  hyphens: none;
  letter-spacing: $title-half-title-letter-spacing;
  word-spacing: $title-half-title-word-spacing;
  text-align: $title-half-title-align;
  text-transform: $title-half-title-text-transform;
}

// Title Page
h1.title {
  margin-top: if-map-get($title-title-margin-top, $type);
  margin-right: if-map-get($title-title-margin-right, $type);
  margin-left: if-map-get($title-title-margin-left, $type);
  font-family: $title-title-font-family;
  font-size: if-map-get($title-title-font-size, $type);
  font-style: $title-title-font-style;
  font-weight: $title-title-font-weight;
  hyphens: none;
  letter-spacing: $title-title-letter-spacing;
  word-spacing: $title-title-word-spacing;
  text-align: $title-title-align;
  text-transform: $title-title-text-transform;
  border-bottom: if-map-get($title-title-border-bottom-width, $type) $title-title-border-bottom-style if-map-get($title-title-border-bottom-color, $type);
  padding-bottom: if-map-get($title-title-padding-bottom, $type);
  @if $type != 'epub' {
    line-height: if-map-get($title-title-line-height, $type);
  }

  @if ($title-title-decoration-content != "" or $title-title-decoration-display != none) {
    &::after {
      font-family: $title-title-decoration-font-family;
      content: $title-title-decoration-content;
      display: $title-title-decoration-display;
      white-space: pre;
      font-size: if-map-get($title-title-decoration-font-size, $type);
      font-weight: $title-title-decoration-font-weight;
      margin-bottom: if-map-get($title-title-decoration-margin-bottom, $type);
      margin-top: if-map-get($title-title-decoration-margin-top, $type);
      color: if-map-get($title-title-decoration-color, $type);
    }
  }
}

h2.subtitle {
  margin-top: if-map-get($title-subtitle-margin-top, $type);
  margin-right: if-map-get($title-subtitle-margin-right, $type);
  margin-left: if-map-get($title-subtitle-margin-left, $type);
  font-family: $title-subtitle-font-family;
  font-size: if-map-get($title-subtitle-font-size, $type);
  font-style: $title-subtitle-font-style;
  font-weight: $title-subtitle-font-weight;
  hyphens: none;
  letter-spacing: $title-subtitle-letter-spacing;
  word-spacing: $title-subtitle-word-spacing;
  text-align: $title-subtitle-align;
  text-transform: $title-subtitle-text-transform;
  border-bottom: if-map-get($title-subtitle-border-bottom-width, $type) $title-subtitle-border-bottom-style if-map-get($title-subtitle-border-bottom-color, $type);
  padding-bottom: if-map-get($title-subtitle-padding-bottom, $type);
  @if $type != 'epub' {
    line-height: if-map-get($title-subtitle-line-height, $type);
  }
}

h3.author {
  margin-top: if-map-get($title-author-margin-top, $type);
  margin-right: if-map-get($title-author-margin-right, $type);
  margin-left: if-map-get($title-author-margin-left, $type);
  font-family: $title-author-font-family;
  font-size: if-map-get($title-author-font-size, $type);
  font-style: $title-author-font-style;
  font-weight: $title-author-font-weight;
  hyphens: none;
  letter-spacing: $title-author-letter-spacing;
  word-spacing: $title-author-word-spacing;
  text-align: $title-author-align;
  text-transform: $title-author-text-transform;
  border-bottom: if-map-get($title-author-border-bottom-width, $type) $title-author-border-bottom-style if-map-get($title-author-border-bottom-color, $type);
  padding-bottom: if-map-get($title-author-padding-bottom, $type);
  @if $type != 'epub' {
    line-height: if-map-get($title-author-line-height, $type);
  }
}

div.publisher-logo {
  display: $title-publisher-logo-display;
  width: $title-publisher-logo-width;
  height: auto;
  padding-top: $title-publisher-logo-padding-top;
  padding-bottom: $title-publisher-logo-padding-bottom;
  margin-right: $title-publisher-logo-margin-right;
  margin-left: $title-publisher-logo-margin-left;
  text-align: $title-publisher-logo-text-align;
}

h4.publisher {
  display: block;
  float: if-map-get($title-publisher-float, $type);
  margin: if-map-get($title-publisher-margin-top, $type) if-map-get($title-publisher-margin-right, $type) if-map-get($title-publisher-margin-bottom, $type) if-map-get($title-publisher-margin-left, $type);
  font-family: $title-publisher-font-family;
  font-size: if-map-get($title-publisher-font-size, $type);
  font-style: $title-publisher-font-style;
  font-weight: $title-publisher-font-weight;
  hyphens: none;
  @if $type != 'epub' {
    line-height: $title-publisher-line-height;
  }
  letter-spacing: $title-publisher-letter-spacing;
  word-spacing: $title-publisher-word-spacing;
  text-align: $title-publisher-align;
  text-transform: $title-publisher-text-transform;
  border-bottom: if-map-get($title-publisher-border-bottom-width, $type) $title-publisher-border-bottom-style if-map-get($title-publisher-border-bottom-color, $type);
  padding-bottom: if-map-get($title-publisher-padding-bottom, $type);
}

h5.publisher-city {
  float: if-map-get($title-publisher-city-float, $type);
  margin-top: 0;
  margin-left: if-map-get($title-publisher-city-margin-left, $type);
  margin-right: if-map-get($title-publisher-city-margin-right, $type);
  font-family: $title-publisher-city-font-family;
  font-size: if-map-get($title-publisher-city-font-size, $type);
  font-style: $title-publisher-city-font-style;
  font-weight: $title-publisher-city-font-weight;
  hyphens: none;
  @if $type != 'epub' {
    line-height: $title-publisher-city-line-height;
  }
  letter-spacing: $title-publisher-city-letter-spacing;
  word-spacing: $title-publisher-city-word-spacing;
  text-align: $title-publisher-city-align;
  text-transform: $title-publisher-city-text-transform;
  border-bottom: if-map-get($title-publisher-city-border-bottom-width, $type) $title-publisher-city-border-bottom-style if-map-get($title-publisher-city-border-bottom-color, $type);
  padding-bottom: if-map-get($title-publisher-city-padding-bottom, $type);
}

// Prince and EPUB-specific disply rules
@mixin titles-prince {
  #title-page {
    > .subtitle,
    > .author,
    > .publisher-logo,
    > .publisher,
    > .publisher-city {
      bookmark-level: none;
    }
  }
}

@if $type == 'prince' {
  @include titles-prince;
}

@if $type == 'epub' {
  @media amzn-kf8 {
    #title-page h1.title::before {
      content: '';
    }

    #title-page h1.title::after {
      content: '';
    }
  }

  @media amzn-mobi {
    h1.title {
      margin-top: 2em;
      font-size: 2em;
      font-style: normal;
      font-weight: normal;
    }

    h2.subtitle {
      font-size: 1em;
      font-style: normal;
      font-weight: normal;
    }

    h3.author {
      font-style: normal;
      font-weight: normal;
    }

    h4.publisher {
      font-style: normal;
      font-weight: normal;
    }

    h5.publisher-city {
      font-style: normal;
      font-weight: normal;
    }

    .pb-publogo-wrap {
      display: none;
    }

    .pb-publogo {
      display: none;
    }

    .pb-publogo-wide {
      display: none;
    }
  }
}
